<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para Ti ğŸ’–</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    font-family: 'Georgia', serif;
    text-align: center;
    background: #0d0d1a;
    color: white;
  }

  /* Fondo animado tipo aurora + estrellas */
  #fondo {
    position: fixed;
    width: 100%;
    height: 100%;
    background: linear-gradient(120deg, #0d0d1a, #1a1a2e, #0d0d1a);
    overflow: hidden;
    z-index: -2;
  }
  .aurora {
    position: absolute;
    width: 300%;
    height: 200%;
    top: -50%;
    left: -100%;
    background: radial-gradient(circle at 50% 50%, rgba(255,100,180,0.2), transparent 70%);
    animation: moverAurora 15s linear infinite alternate;
    filter: blur(60px);
  }
  @keyframes moverAurora {
    0% { transform: rotate(0deg) translateX(0) translateY(0); }
    100% { transform: rotate(30deg) translateX(100px) translateY(50px); }
  }

  .star {
    position: absolute;
    background: white;
    border-radius: 50%;
    opacity: 0;
    animation: twinkle 3s infinite;
  }
  @keyframes twinkle { 0%,100% {opacity:0;} 50% {opacity:1;} }

  .card {
    background: rgba(255,255,255,0.18);
    padding: 50px 45px;
    border-radius: 28px;
    width: 90%;
    max-width: 550px;
    min-height: 520px;
    backdrop-filter: blur(14px);
    box-shadow: 0 25px 60px rgba(0,0,0,0.45);
    display: flex;
    flex-direction: column;
    justify-content: center;
    transition: transform 0.3s ease;
    z-index: 2;
  }

  .card.vibrate { animation: vibrar 0.3s ease-in-out infinite alternate; }
  @keyframes vibrar {
    0% { transform: translate(0,0);}
    25% { transform: translate(2px,-2px);}
    50% { transform: translate(-2px,2px);}
    75% { transform: translate(2px,2px);}
    100% { transform: translate(-2px,-2px);}
  }

  button {
    margin-top: 18px;
    padding: 14px 30px;
    font-size: 1.05em;
    border: none;
    border-radius: 30px;
    background: #ff3366;
    color: white;
    cursor: pointer;
    transition: transform 0.2s ease;
  }
  button:hover { transform: scale(1.1); }

  #carta {
    margin-top: 20px;
    font-size: 1.16em;
    line-height: 1.7;
    white-space: pre-line;
    min-height: 200px;
    text-align: left;
  }
  #carta strong {
    font-weight: 700;
    color: #fff8d6;
    display: block;
    margin: 5px 0;
  }

  #pregunta, #respuestas {
    margin-top: 24px;
    opacity: 0;
    transition: opacity 1.8s ease;
  }

  .heart, .rocket, .confeti {
    position: absolute;
    user-select: none;
    pointer-events: none;
  }

  @keyframes float {
    0% { transform: translateY(100vh) scale(0.6); opacity: 0; }
    50% { opacity: 1; }
    100% { transform: translateY(-10vh) scale(1.3); opacity: 0; }
  }
  @keyframes caer { 0% {transform: translateY(-50px); opacity:1;} 100% {transform: translateY(110vh); opacity:0;} }
</style>
</head>
<body>

<div id="fondo">
  <div class="aurora"></div>
</div>

<audio id="musica" loop>
  <source src="https://www.dropbox.com/scl/fi/x0zybmvanqoi3kl1ozuf7/One-Piece-Ending-1-Memories-Sub-mp3cut.net.mp3?rlkey=lii70hxs5eq1pn6g1dho65icm&st=438qr7a7&raw=1" type="audio/mpeg">
</audio>

<!-- Sonido por letra -->
<audio id="sonidoLetra" src="https://freesound.org/data/previews/341/341695_5121236-lq.mp3"></audio>

<div class="card" id="modal">
  <h1>Para Ti ğŸ’•</h1>
  <p>Hay algo que llevo en el corazÃ³nâ€¦</p>
  <button onclick="iniciar()">Ãbreme ğŸ’Œ</button>
  <div id="carta"></div>
  <div id="pregunta">Â¿Quieres ser mi San ValentÃ­n? ğŸ’ğŸ’–</div>
  <div id="respuestas">
    <button onclick="respuesta('SÃ­ ğŸ’–')">SÃ­ ğŸ’–</button>
    <button onclick="respuesta('Obvio ğŸ’•')">Obvio ğŸ’•</button>
  </div>
</div>

<script>
const textoCarta = `
<strong>Hace aÃ±os compartimos risas, aventuras y sueÃ±os,</strong>
y aunque la vida nos llevÃ³ por caminos distintos,
<strong>el destino nos volviÃ³ a reunir.</strong>

Recordar nuestros charlas sobre animes en el carro,
las teorÃ­as, las canciones locas, y las risas compartidas,
<strong>siempre me hace sonreÃ­r.</strong>

Me alegra que podamos retomar esta amistad,
y aunque hoy solo seamos amigos,
<strong>te adviertoâ€¦ voy a luchar por ganarme
la oportunidad de que algÃºn dÃ­a me veas de otra manera ğŸ’–ğŸ˜‰</strong>

No sÃ© quÃ© nos depare el futuro,
<strong>pero sÃ­ sÃ© que quiero descubrirlo contigo, Bakita.</strong>

Con todo mi kokoro ğŸ’–
`;

let i=0, intervaloCorazones=null, velocidadCorazones=900;
const corazones=["â¤ï¸","ğŸ’–","ğŸ’˜","ğŸ’•","ğŸ’—"];
const audioLetra = document.getElementById("sonidoLetra");

// Estrellas aleatorias
for(let s=0;s<200;s++){
  let star=document.createElement("div");
  star.className="star";
  star.style.width=star.style.height=(Math.random()*2+1)+"px";
  star.style.top=Math.random()*100+"%";
  star.style.left=Math.random()*100+"%";
  star.style.animationDuration=(Math.random()*3+2)+"s";
  document.body.appendChild(star);
}

function iniciar(){
  const audio=document.getElementById("musica");
  audio.volume=0.8;
  audio.play().catch(()=>{});

  document.getElementById("modal").classList.add("vibrate");
  escribir();
  if(!intervaloCorazones){
    intervaloCorazones=setInterval(crearCorazon, velocidadCorazones);
    const acelerador=setInterval(()=>{
      if(velocidadCorazones>250){
        velocidadCorazones-=110;
        clearInterval(intervaloCorazones);
        intervaloCorazones=setInterval(crearCorazon, velocidadCorazones);
      }else clearInterval(acelerador);
    },2000);
  }
}

function escribir(){
  if(i<textoCarta.length){
    carta.innerHTML+=textoCarta.charAt(i++);
    // Sonido letra
    if(!textoCarta.charAt(i).match(/\s/)){
      audioLetra.currentTime=0;
      audioLetra.play().catch(()=>{});
    }
    setTimeout(escribir,45);
  }else{
    setTimeout(()=>{
      document.getElementById("pregunta").style.opacity=1;
      document.getElementById("respuestas").style.opacity=1;
    },1000);
  }
}

function crearCorazon(){
  const h=document.createElement("div");
  h.className="heart";
  h.innerHTML=corazones[Math.floor(Math.random()*corazones.length)];
  const size=Math.random()*26+16;
  h.style.fontSize=size+"px";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=(Math.random()*2+4)+"s";
  h.style.animationName="float";
  document.body.appendChild(h);
  setTimeout(()=>{
    let r=document.createElement("div");
    r.className="rocket";
    r.innerHTML="ğŸ’¥";
    r.style.left=h.style.left;
    r.style.top=(window.innerHeight - 50)+"px";
    r.style.fontSize=(Math.random()*20+16)+"px";
    document.body.appendChild(r);
    setTimeout(()=>r.remove(),1000);
    h.remove();
  },6000);
}

function respuesta(tipo){
  for(let j=0;j<50;j++){
    const c=document.createElement("div");
    c.className="confeti";
    c.innerHTML="ğŸ‰";
    c.style.left=Math.random()*100+"vw";
    c.style.fontSize=Math.random()*20+18+"px";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),3500);
  }
  document.getElementById("respuestas").innerHTML=
    `<p style="font-size:1.6em; margin-top:10px;">Â¡Me encanta que dijeras "${tipo}"! ğŸ’–âœ¨</p>`;
}
</script>

</body>
</html>
